/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r={8452:(e,t,n)=>{var r=n(6540),o=n(5338),a=n(3319);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,u=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return l(s,"_invoke",function(n,r,o){var a,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,u=0,c=e,p.n=n,i}};function d(n,r){for(u=n,c=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],d=p.p,m=a[2];n>3?(o=m===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=n<2&&d<a[1])?(u=0,p.v=r,p.n=a[1]):d<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,p.n=m,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),u=s,c=m;(t=u<2?e:c)||!f;){a||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==i)break}catch(t){a=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),s}var i={};function u(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(l(t={},r,(function(){return this})),t),d=f.prototype=u.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,l(d,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(d),l(d,o,"Generator"),l(d,r,(function(){return this})),l(d,"toString",(function(){return"[object Generator]"})),(c=function(){return{w:a,m}})()}function l(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){l(e,t,(function(e){return this._invoke(t,n,e)}))};a("next",0),a("throw",1),a("return",2)}},l(e,t,n,r)}function s(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,u,"next",e)}function u(e){s(a,r,o,i,u,"throw",e)}i(void 0)}))}}var p=function(){var e=f(c().m((function e(t,n){return c().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,a.A.post("/wp-json/wpp-generator/v1/post-id/".concat(t,"/delete/"),{attributes:n},{headers:{"Content-Type":"application/json","X-WP-Nonce":lsomabAdminLocalize.nonce}});case 1:return e.a(2,e.v)}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=f(c().m((function e(t){var n,r=arguments;return c().w((function(e){for(;;)switch(e.n){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.n=1,a.A.post("/wp-json/wpp-generator/v1/post-id/".concat(t),{attributes:n},{headers:{"Content-Type":"application/json","X-WP-Nonce":lsomabAdminLocalize.nonce}});case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=f(c().m((function e(t,n){var r;return c().w((function(e){for(;;)switch(e.n){case 0:return r=encodeURIComponent(n),e.n=1,a.A.get("/wp-json/wpp-generator/v1/post-id/".concat(t,"/"),{params:{post_id:t,postMetaKey:r},headers:{"X-WP-Nonce":lsomabAdminLocalize.nonce}});case 1:return e.a(2,e.v)}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const v=function(e){var t=e.postMetaKey,n=e.postId,o=e.postMetaValue,a=i((0,r.useState)(""),2),u=a[0],c=a[1],l=i((0,r.useState)(""),2),s=l[0],f=l[1],v=i((0,r.useState)(""),2),y=v[0],g=v[1];(0,r.useEffect)((function(){o&&m(n,t).then((function(e){if(200===e.status){var t=e.data;null!=t&&t.imageId&&null!=t&&t.imageUrl&&(f(parseInt(t.imageId)),c(t.imageUrl))}})).catch((function(e){}))}),[]);var b=null;return r.createElement("div",{className:"mx-image-uploader-react"},y&&r.createElement("div",{className:"error-message",style:{color:"red",marginBottom:"10px"}},y),r.createElement("button",{onClick:function(e){e.preventDefault(),g(""),b||(b=wp.media.frames.metaBoxUploadImage=wp.media({title:"Choose image",library:{type:"image"},button:{text:"Upload"},multyple:!1})).on("select",(function(){var e=b.state().get("selection").first().id;d(n,{imageId:e,postMetaKey:t}).then((function(t){if(200===t.status){f(e);var n=t.data.imageUrl;c(n)}else g("Failed to upload image. Please try again.")})).catch((function(e){var t,n=null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.response.data.message:e.message;g("Error: "+n)}))})),b.open()},style:{display:u?"none":"block"}},"Choose Image"),u&&r.createElement(r.Fragment,null,r.createElement("img",{src:u,alt:"Uploaded",style:{display:"block",maxWidth:"100%"}}),r.createElement("button",{onClick:function(e){e.preventDefault(),p(n,{postMetaKey:t}).then((function(e){200===e.status?(c(""),f("")):g("Failed to delete image. Please try again.")})).catch((function(e){var t,n=null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.response.data.message:e.message;g("Error: "+n)}))},style:{display:"block"},className:"mx-meta-box-image-remove"},"Remove Image"),r.createElement("input",{type:"hidden",value:s,name:"image-id-".concat(s)})))};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".mx-image-uploader").forEach((function(e,t){var n=(0,o.H)(e),a=e.getAttribute("data-post-meta-key"),i=e.getAttribute("data-post-meta-value"),u=e.getAttribute("data-post-id");n.render(r.createElement(v,{postMetaKey:a,postMetaValue:i,postId:u}))}))}))}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,a),n.exports}a.m=r,e=[],a.O=(t,n,r,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,r,o]=e[s],u=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(u=!1,o<i&&(i=o));if(u){e.splice(s--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var u=2&r&&e;"object"==typeof u&&!~t.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=902,(()=>{var e={902:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,u,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(c)var s=c(a)}for(t&&t(n);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},n=self.webpackChunklsomab_npm_handler=self.webpackChunklsomab_npm_handler||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,[344],(()=>a(8452)));i=a.O(i)})();